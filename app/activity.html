<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fold - Agent Activity</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            fold: {
              bg: '#0b0e14',
              cyan: '#00EAFF',
              blue: '#2BAEDA',
              yellow: '#FBFB99',
              pink: '#FF3E8F',
            }
          }
        }
      }
    }
  </script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');
    body {
      font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Inter', sans-serif;
      background: #0b0e14;
    }
    .mono { font-family: 'JetBrains Mono', monospace; }
    .fold-card {
      background: rgba(255,255,255,0.05);
      border-radius: 24px;
    }
    .pulse-cyan { animation: pulse-cyan 2s infinite; }
    @keyframes pulse-cyan {
      0%, 100% { box-shadow: 0 0 0 0 rgba(0, 234, 255, 0.4); }
      50% { box-shadow: 0 0 0 8px rgba(0, 234, 255, 0); }
    }
    .terminal { scrollbar-width: thin; scrollbar-color: rgba(255,255,255,0.1) transparent; }
    .terminal::-webkit-scrollbar { width: 6px; }
    .terminal::-webkit-scrollbar-track { background: transparent; }
    .terminal::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 3px; }
    .blink { animation: blink 1s step-end infinite; }
    @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
    .flow-arrow { animation: flowPulse 2s ease-in-out infinite; }
    @keyframes flowPulse {
      0%, 100% { opacity: 0.4; }
      50% { opacity: 1; }
    }
    .flow-step-1 { animation-delay: 0s; }
    .flow-step-2 { animation-delay: 0.5s; }
    .flow-step-3 { animation-delay: 1s; }
    .flow-step-4 { animation-delay: 1.5s; }
    .live-dot { animation: livePulse 1.5s ease-in-out infinite; }
    @keyframes livePulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.5; transform: scale(1.5); }
    }
    .footer-bar {
      backdrop-filter: blur(20px);
      background: rgba(255,255,255,0.02);
      border-radius: 42px 42px 0 0;
    }
    .text-cyan { color: #00EAFF; }
    .text-blue { color: #2BAEDA; }
    .text-yellow { color: #FBFB99; }
    .text-pink { color: #FF3E8F; }
    .text-muted { color: rgba(255,255,255,0.6); }
    .text-dim { color: rgba(255,255,255,0.5); }
  </style>
  <script src="https://unpkg.com/@solana/web3.js@1.98.0/lib/index.iife.min.js"></script>
  <script src="wallet.js"></script>
  <script src="program.js"></script>
</head>
<body class="min-h-screen text-white">
  <!-- Navigation -->
  <nav class="px-[42px] py-[42px] flex items-center justify-between">
    <div class="flex items-center gap-[42px]">
      <div class="flex items-center gap-3">
        <svg width="90" height="22" viewBox="0 0 90 22" fill="none"><path d="M0 11C0 4.925 4.925 0 11 0C17.075 0 22 4.925 22 11C22 17.075 17.075 22 11 22C4.925 22 0 17.075 0 11Z" fill="#00EAFF" opacity="0.2"/><path d="M7 8.5L11 6L15 8.5V13.5L11 16L7 13.5V8.5Z" stroke="#00EAFF" stroke-width="1.5" fill="none"/><path d="M11 6V16M7 8.5L15 13.5M15 8.5L7 13.5" stroke="#00EAFF" stroke-width="0.75" opacity="0.5"/><text x="28" y="16" fill="white" font-family="'SF Pro Display',-apple-system,BlinkMacSystemFont,'Inter',sans-serif" font-weight="600" font-size="18" letter-spacing="-0.5">fold</text></svg>
        <div class="flex items-center justify-center px-3 py-1.5 rounded-md" style="background:rgba(255,255,255,0.1);"><span style="font-size:15px;font-weight:500;color:rgba(255,255,255,0.5);">beta</span></div>
      </div>
      <div class="flex items-center">
        <a href="index.html" class="px-6 py-3 text-[15px] font-medium" style="color:rgba(255,255,255,0.6);">Dashboard</a>
        <a href="activity.html" class="px-6 py-3 text-[15px] font-medium text-white">Activity</a>
        <a href="alerts.html" class="px-6 py-3 text-[15px] font-medium" style="color:rgba(255,255,255,0.6);">Alerts</a>
      </div>
    </div>
    <div class="flex items-center gap-3">
      <a href="settings.html" style="color:rgba(255,255,255,0.5);"><svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-4 0v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83-2.83l.06-.06A1.65 1.65 0 004.68 15a1.65 1.65 0 00-1.51-1H3a2 2 0 010-4h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 012.83-2.83l.06.06A1.65 1.65 0 009 4.68a1.65 1.65 0 001-1.51V3a2 2 0 014 0v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 2.83l-.06.06A1.65 1.65 0 0019.4 9a1.65 1.65 0 001.51 1H21a2 2 0 010 4h-.09a1.65 1.65 0 00-1.51 1z"/></svg></a>
      <button id="connect-btn" class="px-6 py-3 rounded-xl text-[15px] font-medium cursor-pointer" style="background:rgba(43,174,218,0.1);color:#00EAFF;border:none;"><span id="nav-wallet-addr">Connect</span></button>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="px-[42px] pb-8">
    <!-- Header -->
    <div class="flex items-center justify-between mb-6">
      <div>
        <h1 class="text-2xl font-bold mb-1">Agent Activity</h1>
        <p style="color:rgba(255,255,255,0.6);">Real-time monitoring feed</p>
      </div>
      <div class="flex items-center gap-3">
        <div class="flex items-center gap-2 px-4 py-2 rounded-full" style="background:rgba(0,234,255,0.1);">
          <div class="w-2 h-2 rounded-full live-dot" style="background:#00EAFF;"></div>
          <span class="text-sm font-medium" style="color:#00EAFF;">Live</span>
        </div>
        <button id="pauseBtn" class="px-5 py-2.5 rounded-xl text-sm font-medium cursor-pointer" style="background:rgba(43,174,218,0.1);color:#00EAFF;border:none;" onclick="togglePause()">
          Pause Feed
        </button>
      </div>
    </div>

    <!-- Stats Row -->
    <div class="grid grid-cols-4 gap-4 mb-6">
      <div class="fold-card p-5">
        <div class="text-sm mb-2" style="color:rgba(255,255,255,0.5);">Agent Status</div>
        <div class="flex items-center gap-2">
          <div class="w-2.5 h-2.5 rounded-full pulse-cyan" style="background:#00EAFF;"></div>
          <span class="font-semibold" style="color:#00EAFF;">ACTIVE</span>
        </div>
      </div>
      <div class="fold-card p-5">
        <div class="text-sm mb-2" style="color:rgba(255,255,255,0.5);">Uptime</div>
        <div class="font-semibold mono" id="uptime">3d 14h 22m</div>
      </div>
      <div class="fold-card p-5">
        <div class="text-sm mb-2" style="color:rgba(255,255,255,0.5);">Checks / Hour</div>
        <div class="font-semibold mono">120</div>
      </div>
      <div class="fold-card p-5">
        <div class="text-sm mb-2" style="color:rgba(255,255,255,0.5);">MPC Computations</div>
        <div class="font-semibold mono" id="mpcCount">1,247</div>
      </div>
    </div>

    <!-- Terminal + Encryption Flow -->
    <div class="grid grid-cols-3 gap-6">
      <!-- Terminal -->
      <div class="col-span-2 fold-card overflow-hidden">
        <div class="flex items-center justify-between px-5 py-4" style="background:rgba(255,255,255,0.03);">
          <div class="flex items-center gap-3">
            <div class="flex gap-1.5">
              <div class="w-3 h-3 rounded-full" style="background:#FF3E8F;opacity:0.8;"></div>
              <div class="w-3 h-3 rounded-full" style="background:#FBFB99;opacity:0.8;"></div>
              <div class="w-3 h-3 rounded-full" style="background:#00EAFF;opacity:0.8;"></div>
            </div>
            <span class="text-sm mono" style="color:rgba(255,255,255,0.5);">fold-agent --monitor</span>
          </div>
          <button class="text-xs cursor-pointer" style="color:rgba(255,255,255,0.4);background:none;border:none;" onclick="copyLog()">Copy Log</button>
        </div>
        <div id="terminal" class="terminal p-5 h-[500px] overflow-y-auto mono text-sm leading-relaxed" style="background:rgba(0,0,0,0.3);">
          <div style="color:rgba(255,255,255,0.4);">════════════════════════════════════════════════</div>
          <div class="text-cyan">  Fold DeFi Security Agent v1.0.0</div>
          <div class="text-cyan">  Privacy-Preserving Position Monitoring</div>
          <div style="color:rgba(255,255,255,0.4);">════════════════════════════════════════════════</div>
          <div style="color:rgba(255,255,255,0.4);" class="mt-2">[init] Agent wallet: 7xKp...3mNq</div>
          <div style="color:rgba(255,255,255,0.4);">[init] Balance: 2.34 SOL</div>
          <div style="color:rgba(255,255,255,0.4);">[init] Initializing Arcium encryption...</div>
          <div class="text-blue">[init] x25519 key exchange complete</div>
          <div class="text-blue">[init] MXE shared secret derived</div>
          <div class="text-cyan">[init] Encryption initialized successfully</div>
          <div style="color:rgba(255,255,255,0.4);">[init] Subscribing to on-chain events...</div>
          <div class="text-cyan">[init] Event subscription active</div>
          <div style="color:rgba(255,255,255,0.4);">[init] Starting monitoring loop (every 30s)...</div>
          <div class="mt-3"></div>
        </div>
      </div>

      <!-- Right column -->
      <div class="space-y-6">
        <!-- Encryption Flow -->
        <div class="fold-card p-6">
          <h2 class="text-lg font-semibold mb-5">Encryption Flow</h2>
          <div class="space-y-4">
            <!-- Step 1 -->
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0" style="background:rgba(0,234,255,0.1);">
                <span class="text-sm font-bold" style="color:#00EAFF;">1</span>
              </div>
              <div class="flex-1">
                <div class="text-sm font-medium">Your Data</div>
                <div class="mono text-xs mt-1" style="color:rgba(255,255,255,0.5);">$5,000 | 115% | 110%</div>
              </div>
            </div>
            <div class="flex justify-center">
              <svg class="w-5 h-5 flow-arrow flow-step-1" style="color:#00EAFF;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/></svg>
            </div>
            <!-- Step 2 -->
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0" style="background:rgba(43,174,218,0.1);">
                <svg class="w-5 h-5" style="color:#2BAEDA;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/></svg>
              </div>
              <div class="flex-1">
                <div class="text-sm font-medium">Encrypted</div>
                <div class="mono text-xs mt-1 break-all" style="color:rgba(255,255,255,0.5);">0x7f3a...9c2b</div>
              </div>
            </div>
            <div class="flex justify-center">
              <svg class="w-5 h-5 flow-arrow flow-step-2" style="color:#2BAEDA;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/></svg>
            </div>
            <!-- Step 3 -->
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0" style="background:rgba(43,174,218,0.1);">
                <span class="text-sm font-bold" style="color:#2BAEDA;">3</span>
              </div>
              <div class="flex-1">
                <div class="text-sm font-medium">MPC Network</div>
                <div class="flex gap-1 mt-1">
                  <div class="px-1.5 py-0.5 rounded text-[10px] mono" style="background:rgba(43,174,218,0.1);color:#2BAEDA;">Node A</div>
                  <div class="px-1.5 py-0.5 rounded text-[10px] mono" style="background:rgba(43,174,218,0.1);color:#2BAEDA;">Node B</div>
                  <div class="px-1.5 py-0.5 rounded text-[10px] mono" style="background:rgba(43,174,218,0.1);color:#2BAEDA;">Node C</div>
                </div>
              </div>
            </div>
            <div class="flex justify-center">
              <svg class="w-5 h-5 flow-arrow flow-step-3" style="color:#2BAEDA;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/></svg>
            </div>
            <!-- Step 4 -->
            <div class="flex items-center gap-3">
              <div id="resultIcon" class="w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0" style="background:rgba(0,234,255,0.1);">
                <svg class="w-5 h-5" style="color:#00EAFF;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
              </div>
              <div class="flex-1">
                <div class="text-sm font-medium">Result</div>
                <div id="resultText" class="text-xs mt-1 font-medium" style="color:#00EAFF;">Safe — No risk detected</div>
              </div>
            </div>
          </div>

          <div class="mt-5 p-4 rounded-xl" style="background:rgba(255,255,255,0.03);">
            <p class="text-xs" style="color:rgba(255,255,255,0.5);">No single MPC node ever sees your plaintext data. Risk is computed cooperatively across the Arcium network.</p>
          </div>
        </div>

        <!-- Network Status -->
        <div class="fold-card p-6">
          <h2 class="text-lg font-semibold mb-5">Network</h2>
          <div class="space-y-3">
            <div class="flex items-center justify-between">
              <span class="text-sm" style="color:rgba(255,255,255,0.5);">Solana (Devnet)</span>
              <span class="flex items-center gap-1.5 text-sm" style="color:#00EAFF;"><div class="w-1.5 h-1.5 rounded-full" style="background:#00EAFF;"></div> Connected</span>
            </div>
            <div class="flex items-center justify-between">
              <span class="text-sm" style="color:rgba(255,255,255,0.5);">Arcium MXE</span>
              <span class="flex items-center gap-1.5 text-sm" style="color:#00EAFF;"><div class="w-1.5 h-1.5 rounded-full" style="background:#00EAFF;"></div> Active</span>
            </div>
            <div class="flex items-center justify-between">
              <span class="text-sm" style="color:rgba(255,255,255,0.5);">Pyth Oracle</span>
              <span class="flex items-center gap-1.5 text-sm" style="color:#00EAFF;"><div class="w-1.5 h-1.5 rounded-full" style="background:#00EAFF;"></div> Streaming</span>
            </div>
            <div class="flex items-center justify-between">
              <span class="text-sm" style="color:rgba(255,255,255,0.5);">Telegram Bot</span>
              <span class="flex items-center gap-1.5 text-sm" style="color:#00EAFF;"><div class="w-1.5 h-1.5 rounded-full" style="background:#00EAFF;"></div> Ready</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer-bar px-[42px] py-6 mt-8">
    <div class="flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="flex items-center"><span class="px-3 py-1.5 text-[15px] font-medium" style="color:rgba(255,255,255,0.5);">built on</span><span class="text-white text-[15px] font-semibold tracking-wide pr-3">SOLANA</span></div>
        <div style="width:2px;height:20px;background:rgba(217,217,217,0.2);"></div>
        <div class="flex items-center"><span class="px-3 py-1.5 text-[15px] font-medium" style="color:rgba(255,255,255,0.5);">powered by</span><span class="text-white text-[15px] font-semibold tracking-wide pr-3">ARCIUM</span></div>
      </div>
      <div class="flex items-center">
        <a href="#" class="px-6 py-3 text-[15px] font-medium" style="color:rgba(255,255,255,0.6);text-decoration:none;">Docs</a>
        <a href="https://github.com/ikeacrisp/fold-defi-agent" class="px-6 py-3 text-[15px] font-medium" style="color:rgba(255,255,255,0.6);text-decoration:none;">Github</a>
        <a href="#" class="px-6 py-3 text-[15px] font-medium" style="color:rgba(255,255,255,0.6);text-decoration:none;">Discord</a>
      </div>
    </div>
  </footer>

  <script>
    let paused = false;
    let cycleCount = 0;
    const terminal = document.getElementById('terminal');

    // Wallet init
    (async function() {
      await FoldWallet.init();
      if (!FoldWallet.isConnected()) {
        window.location.href = 'connect.html';
        return;
      }
      document.getElementById('nav-wallet-addr').textContent = FoldWallet.shortenAddress();

      // Update init lines with real wallet info
      const initWalletLine = terminal.querySelector('div:nth-child(5)');
      if (initWalletLine) initWalletLine.textContent = '[init] Agent wallet: ' + FoldWallet.shortenAddress();
      try {
        const bal = await FoldWallet.getBalance();
        const initBalLine = terminal.querySelector('div:nth-child(6)');
        if (initBalLine) initBalLine.textContent = '[init] Balance: ' + bal.toFixed(2) + ' SOL';
      } catch(e) {}

      // Subscribe to real on-chain events
      try {
        FoldProgram.subscribeToEvents(function(event) {
          const colors = {
            positionRegistered: 'text-cyan',
            healthCheckCompleted: 'text-blue',
            riskRevealed: 'text-blue',
            actionRequired: 'text-pink'
          };
          const color = colors[event.name] || 'text-cyan';
          addLine('[ON-CHAIN] ' + event.name + ' (tx: ' + event.signature.slice(0, 8) + '...)', color);
        });
      } catch(e) {}

      // Start simulation loop
      run();
    })();

    function timestamp() {
      const d = new Date();
      return d.toTimeString().slice(0, 8);
    }

    function addLine(text, color = 'text-dim') {
      if (paused) return;
      const div = document.createElement('div');
      div.className = color;
      div.textContent = `[${timestamp()}] ${text}`;
      const cursor = terminal.querySelector('.blink');
      if (cursor) cursor.remove();
      terminal.appendChild(div);
      terminal.scrollTop = terminal.scrollHeight;
    }

    function addCursor() {
      if (paused) return;
      const div = document.createElement('div');
      div.className = 'blink';
      div.style.color = 'rgba(255,255,255,0.4)';
      div.innerHTML = `[${timestamp()}] _`;
      terminal.appendChild(div);
      terminal.scrollTop = terminal.scrollHeight;
    }

    async function monitoringCycle() {
      cycleCount++;
      const positions = 4;
      const protocols = 3;
      const isRisky = cycleCount % 12 === 0;

      addLine('');
      addLine(`Running monitoring cycle #${cycleCount}...`, 'text-white');
      await sleep(800);

      addLine(`  Fetching ${positions} position(s) from ${protocols} protocols`, 'text-muted');
      await sleep(600);

      const prices = [(140 + Math.random() * 10).toFixed(2), (3200 + Math.random() * 100).toFixed(2)];
      addLine(`  Pyth oracle: SOL/USD $${prices[0]} | ETH/USD $${prices[1]}`, 'text-muted');
      await sleep(400);

      addLine('  Encrypting position data (x25519 + RescueCipher)', 'text-blue');
      await sleep(500);

      const bytes = 256 + Math.floor(Math.random() * 128);
      addLine(`  Ciphertext generated (${bytes} bytes)`, 'text-blue');
      await sleep(300);

      addLine('  Submitting to Arcium MPC network...', 'text-muted');
      await sleep(400);

      const txId = Math.random().toString(36).substring(2, 6) + '...' + Math.random().toString(36).substring(2, 6);
      addLine(`  TX: ${txId} submitted`, 'text-blue');
      await sleep(1200);

      addLine('  MPC nodes computing on encrypted data...', 'text-blue');
      await sleep(1500);

      addLine('  Computation finalized', 'text-cyan');
      await sleep(300);

      if (isRisky) {
        addLine('  Result: is_at_risk = true  severity = CAUTION', 'text-yellow');
        await sleep(200);
        addLine('  Collateral ratio approaching threshold', 'text-yellow');
        addLine('  Sending Telegram alert...', 'text-muted');
        await sleep(400);
        addLine('  Alert delivered', 'text-cyan');
        document.getElementById('resultIcon').className = 'w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0';
        document.getElementById('resultIcon').style.background = 'rgba(251,251,153,0.1)';
        document.getElementById('resultIcon').innerHTML = '<svg class="w-5 h-5" style="color:#FBFB99;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg>';
        document.getElementById('resultText').style.color = '#FBFB99';
        document.getElementById('resultText').textContent = 'Caution — Approaching threshold';
      } else {
        addLine('  Result: is_at_risk = false', 'text-cyan');
        await sleep(200);
        addLine('  Privacy preserved: agent never saw position values', 'text-muted');
        addLine('All positions healthy', 'text-cyan');
        document.getElementById('resultIcon').className = 'w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0';
        document.getElementById('resultIcon').style.background = 'rgba(0,234,255,0.1)';
        document.getElementById('resultIcon').innerHTML = '<svg class="w-5 h-5" style="color:#00EAFF;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>';
        document.getElementById('resultText').style.color = '#00EAFF';
        document.getElementById('resultText').textContent = 'Safe — No risk detected';
      }

      await sleep(300);
      addLine(`  Next check in 30s...`, 'text-dim');
      addCursor();

      const el = document.getElementById('mpcCount');
      el.textContent = (1247 + cycleCount * 4).toLocaleString();
    }

    function sleep(ms) { return new Promise(r => setTimeout(r, ms)); }

    function togglePause() {
      paused = !paused;
      document.getElementById('pauseBtn').textContent = paused ? 'Resume Feed' : 'Pause Feed';
    }

    function copyLog() {
      const text = Array.from(terminal.children).map(d => d.textContent).join('\n');
      navigator.clipboard.writeText(text);
    }

    async function run() {
      await sleep(2000);
      while (true) {
        await monitoringCycle();
        await sleep(8000);
      }
    }
  </script>
</body>
</html>
